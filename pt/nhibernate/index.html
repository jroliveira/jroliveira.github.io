<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta http-equiv="Cache-Control" content="max-age=604800"><title>NHibernate ~ Junior Oliveira</title><meta name="viewport" content="width=device-width"><meta name="author" content="Junior Oliveira"><meta name="title" content="NHibernate ~ Junior Oliveira"><meta name="description" content="Blog about code and stuff."><meta name="keywords" content="csharp,nhibernate,singleton"><meta name="robots" content="index, follow"><meta name="theme-color" content="#C1A8B2"><meta property="og:type" content="article"><meta property="og:site_name" content="Junior Oliveira"><meta property="og:url" content="https://jroliveira.net"><meta property="og:title" content="NHibernate ~ Junior Oliveira"><meta property="og:description" content="Blog about code and stuff."><link rel="icon" href="/assets/images/favicon.png" async><link rel="manifest" href="/manifest.json" async><link rel="stylesheet" href="/assets/styles/main.53e291.css" async><script async defer>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-11448040-10","auto"),ga("send","pageview")</script><script async defer rel="preconnect" src="https://www.google-analytics.com/analytics.js"></script><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/feed.xml" title="Junior Oliveira" type="application/rss+xml">
</head><body><header class="site-header"><div class="page__container"><a class="site-branding" href="/"><img class="site-branding__logo" src="/assets/images/favicon.svg" alt="Junior Oliveira's blog"><h1 class="site-branding__title--full">Junior Oliveira</h1><h1 class="site-branding__title--short">Jr Oliveira</h1></a><ul class="menu"><li class="menu-item"><a class="menu-item__icon" href="/x-wing" title="Star Wars: X-Wing"><i class="xwing-miniatures-font xwing-miniatures-font-coordinate"></i></a></li><li class="menu-item"><small>&nbsp; | &nbsp;</small></li><li class="menu-item"><a class="menu-item__icon fas fa-search" href="/search" title="Pesquisar posts"></a></li></ul></div></header><main class="site-main"><div class="page__container"><article><h2 class="page__title">NHibernate<p class="post__meta"><small>25 de junho de 2014 </small><small>&nbsp; | &nbsp;</small> <small><i class="fas fa-comments"></i>&nbsp; <a href="#disqus_thread"></a> </small><small>&nbsp; | &nbsp;</small> <small><i class="fas fa-tags"></i>&nbsp; <a href="/tags/csharp/">csharp</a> <a href="/tags/nhibernate/">nhibernate</a> <a href="/tags/singleton/">singleton</a> </small><small>&nbsp; | &nbsp;</small> <small><i class="fas fa-globe"></i>&nbsp; <a class="text--uppercase" href="/pt/nhibernate/">pt</a></small></p></h2><div class="page__content"><p>Olá pessoal, depois de um tempo parado, vamos falar um pouco de <strong>NHibernate</strong>.<br>Este post estava pronto a bastante tempo pode ser que alguma coisa não seja mais aplicado nas novas versão do NHibernate.</p><span id="more"></span><p><strong>Instalando</strong></p><p>A forma mais simples de instalar o NHibernate é usando o <a href="http://nuget.org/" target="_blank" rel="external noopener">NuGet</a>, abaixo o comando para instalar o NHibernate. No exemplo estou usando a versão <strong>3.3.3.4000</strong> para o <strong>.NET Framework 4.0</strong>.</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">install-package NHibernate</span><br></pre></td></tr></table></figure><p><strong>Configurando</strong></p><p>Adicione um arquivo XML na solução chamado <strong>hibernate.cfg.xml</strong>.<br>Este arquivo irá conter as especificações de conexão a base de dados e outras configurações da conexão.<br>Abaixo segue uma configuração padrão para o banco <strong>MySQL</strong> e uma aplicação Web:</p><figure class="highlight xml"><figcaption><span>hibernate.cfg.xml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&#x27;1.0&#x27; encoding=&#x27;utf-8&#x27;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">hibernate-configuration</span> <span class="attr">xmlns</span>=<span class="string">&quot;urn:nhibernate-configuration-2.2&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">session-factory</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;connection.provider&quot;</span>&gt;</span></span><br><span class="line">      NHibernate.Connection.DriverConnectionProvider, NHibernate</span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;connection.connection_string_name&quot;</span>&gt;</span></span><br><span class="line">      ConnectionString</span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dialect&quot;</span>&gt;</span></span><br><span class="line">      NHibernate.Dialect.MySQLDialect</span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;current_session_context_class&quot;</span>&gt;</span></span><br><span class="line">      web</span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">session-factory</span>&gt;</span>  </span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">hibernate-configuration</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Link com a lista de <a href="http://nhforge.org/doc/nh/en/#configuration-optional" target="_blank" rel="external noopener">propriedades de configuração</a> do NHibernate.</p><p><strong>Domínio</strong></p><p>O domínio abaixo é uma representação de uma conta de jogador, retirada do projeto <a href="https://github.com/junioro/dolrath" target="_blank" rel="external noopener">Dolrath</a> e adaptada para ficar mais didática.</p><figure class="highlight csharp"><figcaption><span>Account.cs</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Account</span> : <span class="title">Entity</span>&lt;<span class="title">int</span>&gt; &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">virtual</span> <span class="built_in">string</span> Email &#123; <span class="keyword">get</span>; <span class="keyword">protected</span> <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">virtual</span> <span class="built_in">string</span> Password &#123; <span class="keyword">get</span>; <span class="keyword">protected</span> <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">virtual</span> <span class="built_in">string</span> Name &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">virtual</span> <span class="built_in">string</span> Surname &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="title">Account</span>()</span> &#123; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Account</span>(<span class="params"><span class="built_in">string</span> email, <span class="built_in">string</span> password</span>)</span> &#123;</span><br><span class="line">        Email = email;</span><br><span class="line">        Password = password;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">NewPassword</span>()</span> &#123;</span><br><span class="line">        Password = Guid.NewGuid().ToString().Substring(<span class="number">0</span>, <span class="number">5</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Alguns pontos importantes ao notar o domínio é a presença do modificador <strong>virtual</strong> nos métodos e propriedades, este modificador possibilita o NHibernate criar um proxy sobre a nossa classe e que não existe nenhuma presença de infraestrutura de acesso a dados.</p><p><strong>Mapeamento</strong></p><p>O mapeamento abaixo esta escrito em XML, existem outras formas de mapeamento como por exemplo atributos ou por código usando <a href="http://www.fluentnhibernate.org/" target="_blank" rel="external noopener">NHibernate Fluent</a>. Uma vantagens que eu vejo ao usar XML é que você não precisa recompilar a aplicação para alterar alguma regra no mapeamento e a forma de utilização ao meu ver é mais simples e didática.</p><p>Abaixo esta o mapeamento da nossa classe de domínio acima.</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;utf-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">hibernate-mapping</span> <span class="attr">xmlns</span>=<span class="string">&quot;urn:nhibernate-mapping-2.2&quot;</span></span></span><br><span class="line"><span class="tag">                   <span class="attr">assembly</span>=<span class="string">&quot;Dolrath&quot;</span></span></span><br><span class="line"><span class="tag">                   <span class="attr">namespace</span>=<span class="string">&quot;Dolrath.Domain.Entities&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">class</span> <span class="attr">name</span>=<span class="string">&quot;Account&quot;</span> <span class="attr">table</span>=<span class="string">&quot;Accounts&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span> <span class="attr">name</span>=<span class="string">&quot;Id&quot;</span> <span class="attr">type</span>=<span class="string">&quot;Int32&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">generator</span> <span class="attr">class</span>=<span class="string">&quot;hilo&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;Email&quot;</span> <span class="attr">type</span>=<span class="string">&quot;string&quot;</span> <span class="attr">length</span>=<span class="string">&quot;100&quot;</span> <span class="attr">not-null</span>=<span class="string">&quot;true&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;Password&quot;</span> <span class="attr">type</span>=<span class="string">&quot;string&quot;</span> <span class="attr">length</span>=<span class="string">&quot;100&quot;</span> <span class="attr">not-null</span>=<span class="string">&quot;true&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;Name&quot;</span> <span class="attr">type</span>=<span class="string">&quot;string&quot;</span> <span class="attr">length</span>=<span class="string">&quot;100&quot;</span> <span class="attr">not-null</span>=<span class="string">&quot;false&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;Surname&quot;</span> <span class="attr">type</span>=<span class="string">&quot;string&quot;</span> <span class="attr">length</span>=<span class="string">&quot;100&quot;</span> <span class="attr">not-null</span>=<span class="string">&quot;false&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;/<span class="name">class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">hibernate-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Uma das configurações mais importantes deste mapeamento é o gerador da chave primária, neste exemplo estou usando <strong>hilo</strong>, ele é usado para gerar a chave sem precisar ir até a base de dados não quebramos a <a href="http://martinfowler.com/eaaCatalog/unitOfWork.html" target="_blank" rel="external noopener">Unit Of Work</a>.</p><p>Click no elemento abaixo para maiores detalhes de seus atributos.</p><p><a href="http://nhforge.org/doc/nh/en/#mapping-declaration-mapping" target="_blank" rel="external noopener">hibernate-mapping</a><br><a href="http://nhforge.org/doc/nh/en/#mapping-declaration-class" target="_blank" rel="external noopener">class</a><br><a href="http://nhforge.org/doc/nh/en/#mapping-declaration-id" target="_blank" rel="external noopener">id</a><br><a href="http://nhforge.org/doc/nh/en/#mapping-declaration-property" target="_blank" rel="external noopener">property</a></p><p><strong>Relações</strong></p><p>Abaixo as duas formas de fazer uma relação de <strong>N para N</strong> (<a href="http://nhforge.org/doc/nh/en/#collections-ofvalues" target="_blank" rel="external noopener">many-to-many</a>).</p><p><strong>bag</strong>: É usado quando temos uma situação onde a coleção pode haver valores duplicados.</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">class</span> <span class="attr">name</span>=<span class="string">&quot;Order&quot;</span> <span class="attr">table</span>=<span class="string">&quot;tbOrder&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">id</span> <span class="attr">name</span>=<span class="string">&quot;Id&quot;</span> <span class="attr">column</span>=<span class="string">&quot;OrderId&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">generator</span> <span class="attr">class</span>=<span class="string">&quot;identity&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">bag</span> <span class="attr">name</span>=<span class="string">&quot;Items&quot;</span> <span class="attr">inverse</span>=<span class="string">&quot;true&quot;</span> <span class="attr">cascade</span>=<span class="string">&quot;all&quot;</span> <span class="attr">access</span>=<span class="string">&quot;field.camelcase-underscore&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">key</span> <span class="attr">column</span>=<span class="string">&quot;OrderId&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">one-to-many</span> <span class="attr">class</span>=<span class="string">&quot;OrderItem&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">bag</span>&gt;</span>    </span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">class</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>set</strong>: É usado quando temos uma situação onde a coleção não pode haver valores duplicados.</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">class</span> <span class="attr">name</span>=<span class="string">&quot;Character&quot;</span> <span class="attr">table</span>=<span class="string">&quot;Characters&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">id</span> <span class="attr">name</span>=<span class="string">&quot;Id&quot;</span> <span class="attr">type</span>=<span class="string">&quot;Int32&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">generator</span> <span class="attr">class</span>=<span class="string">&quot;hilo&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">set</span> <span class="attr">name</span>=<span class="string">&quot;Inventory&quot;</span> <span class="attr">lazy</span>=<span class="string">&quot;true&quot;</span> <span class="attr">access</span>=<span class="string">&quot;field.camelcase-underscore&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">key</span> <span class="attr">column</span>=<span class="string">&quot;CharacterId&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">many-to-many</span> <span class="attr">class</span>=<span class="string">&quot;Item&quot;</span> <span class="attr">column</span>=<span class="string">&quot;ItemId&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">set</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">class</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Relação de <strong>N para 1</strong> (<a href="http://nhforge.org/doc/nh/en/#mapping-declaration-manytoone" target="_blank" rel="external noopener">many-to-one</a>).</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">class</span> <span class="attr">name</span>=<span class="string">&quot;Character&quot;</span> <span class="attr">table</span>=<span class="string">&quot;Characters&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">id</span> <span class="attr">name</span>=<span class="string">&quot;Id&quot;</span> <span class="attr">type</span>=<span class="string">&quot;Int32&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">generator</span> <span class="attr">class</span>=<span class="string">&quot;hilo&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">many-to-one</span> <span class="attr">name</span>=<span class="string">&quot;Account&quot;</span> <span class="attr">unique</span>=<span class="string">&quot;true&quot;</span> <span class="attr">column</span>=<span class="string">&quot;AccountId&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">class</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Relação de <strong>1 para 1</strong> (<a href="http://nhforge.org/doc/nh/en/#mapping-declaration-onetoone" target="_blank" rel="external noopener">one-to-one</a>).</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">class</span> <span class="attr">name</span>=<span class="string">&quot;Account&quot;</span> <span class="attr">table</span>=<span class="string">&quot;Accounts&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">id</span> <span class="attr">name</span>=<span class="string">&quot;Id&quot;</span> <span class="attr">type</span>=<span class="string">&quot;Int32&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">generator</span> <span class="attr">class</span>=<span class="string">&quot;hilo&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">one-to-one</span> <span class="attr">name</span>=<span class="string">&quot;Character&quot;</span> <span class="attr">class</span>=<span class="string">&quot;Character&quot;</span> <span class="attr">cascade</span>=<span class="string">&quot;all&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">class</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>Outras configurações</strong></p><p><a href="http://nhforge.org/doc/nh/en/#mapping-declaration-discriminator" target="_blank" rel="external noopener">Discriminator</a></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">class</span> <span class="attr">name</span>=<span class="string">&quot;Character&quot;</span> <span class="attr">table</span>=<span class="string">&quot;Characters&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">id</span> <span class="attr">name</span>=<span class="string">&quot;Id&quot;</span> <span class="attr">type</span>=<span class="string">&quot;Int32&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">generator</span> <span class="attr">class</span>=<span class="string">&quot;hilo&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">discriminator</span> <span class="attr">column</span>=<span class="string">&quot;Discriminator&quot;</span> <span class="attr">not-null</span>=<span class="string">&quot;true&quot;</span>	<span class="attr">type</span>=<span class="string">&quot;string&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">subclass</span> <span class="attr">name</span>=<span class="string">&quot;Humano&quot;</span> <span class="attr">discriminator-value</span>=<span class="string">&quot;Humano&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">subclass</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">subclass</span> <span class="attr">name</span>=<span class="string">&quot;Elf&quot;</span> <span class="attr">discriminator-value</span>=<span class="string">&quot;Elf&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">subclass</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">subclass</span> <span class="attr">name</span>=<span class="string">&quot;Draconiano&quot;</span> <span class="attr">discriminator-value</span>=<span class="string">&quot;Draconiano&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">subclass</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">subclass</span> <span class="attr">name</span>=<span class="string">&quot;Metamorfo&quot;</span> <span class="attr">discriminator-value</span>=<span class="string">&quot;Metamorfo&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">subclass</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">class</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>Session Factory</strong></p><p>A <strong>Session Factory</strong> é responsável por construir as sessões.<br>Quando uma aplicação é iniciada deve-se carregar todas as configurações do NHibernate e mapeamentos para criar a Session Factory, a criação da Session Factory é um processo demorado e deve ser feito apenas uma vez na aplicação.<br>O código abaixo é uma implementação do padrão <a href="http://www.dofactory.com/Patterns/PatternSingleton.aspx" target="_blank" rel="external noopener">Singleton</a> e garante que a Session Factory será criada apenas uma vez na aplicação.</p><figure class="highlight csharp"><figcaption><span>SessionFactoryFactory.cs</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">sealed</span> <span class="keyword">class</span> <span class="title">SessionFactoryFactory</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">readonly</span> ISessionFactory _sessionFactory;</span><br><span class="line">    <span class="keyword">public</span> ISessionFactory CurrentSessionFactory &#123; <span class="keyword">get</span> &#123; <span class="keyword">return</span> _sessionFactory; &#125; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">volatile</span> SessionFactoryFactory _instance;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">readonly</span> <span class="built_in">object</span> SyncRoot = <span class="keyword">new</span> Object();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">SessionFactoryFactory</span>()</span> &#123;</span><br><span class="line">        <span class="keyword">var</span> cfg = <span class="keyword">new</span> Configuration();</span><br><span class="line">        cfg.Configure();</span><br><span class="line">        cfg.AddAssembly(<span class="keyword">typeof</span>(SessionFactoryFactory).Assembly);</span><br><span class="line"></span><br><span class="line">        _sessionFactory = cfg.BuildSessionFactory();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> SessionFactoryFactory Instance &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (_instance == <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="keyword">lock</span> (SyncRoot) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (_instance == <span class="literal">null</span>)</span><br><span class="line">                        _instance = <span class="keyword">new</span> SessionFactoryFactory();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> _instance;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Action Filter - Transaction Per Request</strong></p><p>Exitem várias formas de criar uma <strong>session</strong> em uma aplicação web a forma que irei adotar é bem comum, ela cria uma session por cada requisição feita.</p><p>Simplesmente vamos criar um <strong>action filter</strong> que irá interceptar a “entrada” e a “saída” da nossa <strong>action</strong> da <strong>controller</strong>.</p><p>Na entrada vamos pegar a session usando o <strong>contêiner de dependência</strong> e iniciar uma transação setando o <strong>nível de isolamento</strong> da mesma.<br>Lista dos <a href="http://msdn.microsoft.com/pt-br/library/system.data.isolationlevel.aspx" target="_blank" rel="external noopener">níveis de isolamentos</a>.</p><p>Na saída vamos verificar se houve um erro na requisição. Caso não houve um erro a transação será feito um <strong>commit</strong> da transação, senão será feito um <strong>rollback</strong> na mesma.</p><p>No final a Session será destruída.</p><figure class="highlight csharp"><figcaption><span>TransactionPerRequestAttribute.cs</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">AttributeUsage(AttributeTargets.Method, AllowMultiple = false)</span>]</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">TransactionPerRequestAttribute</span> : <span class="title">ActionFilterAttribute</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">readonly</span> IsolationLevel _isolationLevel;</span><br><span class="line">    <span class="keyword">private</span> ISession _session;</span><br><span class="line">    <span class="keyword">private</span> ITransaction _transaction;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">TransactionPerRequestAttribute</span>(<span class="params">IsolationLevel isolationLevel = IsolationLevel.ReadUncommitted</span>)</span> &#123;</span><br><span class="line">        _isolationLevel = isolationLevel;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">OnActionExecuting</span>(<span class="params">ActionExecutingContext filterContext</span>)</span> &#123;</span><br><span class="line">        _session = IoCContainer.Get&lt;ISession&gt;();</span><br><span class="line">        _transaction = _session.BeginTransaction(_isolationLevel);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">OnActionExecuted</span>(<span class="params">ActionExecutedContext filterContext</span>)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (filterContext.Exception == <span class="literal">null</span>)</span><br><span class="line">            _transaction.Commit();</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            _transaction.Rollback();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Action Filter - NHibernate Session</strong></p><p>Este <strong>actino filter</strong> será utilizado para poder acoplar e desacoplar a session do NHibernate no contexto atual, para ficar mais simples a utilização vamos registrar ele no <strong>global filter</strong> assim não precisamos decorar a nossa action com esta anotação.</p><figure class="highlight csharp"><figcaption><span>FilterConfig.cs</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">FilterConfig</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">RegisterGlobalFilters</span>(<span class="params">GlobalFilterCollection filters</span>)</span> &#123;</span><br><span class="line">        filters.Add(<span class="keyword">new</span> HandleErrorAttribute());</span><br><span class="line">        filters.Add(<span class="keyword">new</span> NHibernateSessionAttribute());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">[<span class="meta">AttributeUsage(AttributeTargets.Method, AllowMultiple = false)</span>]</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">NHibernateSessionAttribute</span> : <span class="title">ActionFilterAttribute</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">OnActionExecuting</span>(<span class="params">ActionExecutingContext filterContext</span>)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (!CurrentSessionContext.HasBind(SessionFactoryFactory.Instance.CurrentSessionFactory)) &#123;</span><br><span class="line">            CurrentSessionContext.Bind(IoCContainer.Get&lt;ISession&gt;());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">OnActionExecuted</span>(<span class="params">ActionExecutedContext filterContext</span>)</span> &#123;</span><br><span class="line">        <span class="keyword">var</span> currentSession = CurrentSessionContext.Unbind(SessionFactoryFactory.Instance.CurrentSessionFactory);</span><br><span class="line">        <span class="keyword">if</span> (currentSession == <span class="literal">null</span>) <span class="keyword">return</span>;</span><br><span class="line">        currentSession.Close();</span><br><span class="line">        currentSession.Dispose();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Controller</strong></p><p>Notem que estou recebendo a session no construtor da controller, quem irá fornecer esta session será o contêiner de dependência.<br>A <strong>action create</strong> do método <strong>post</strong> esta decorada com a anotação <strong>TransactionPerRequest</strong>, isto indica que esta action terá um controle de transação.</p><figure class="highlight csharp"><figcaption><span>AccountController.cs</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">AccountController</span> : <span class="title">BaseController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">readonly</span> ISession _session;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">AccountController</span>(<span class="params">ISession session</span>)</span> &#123;</span><br><span class="line">        _session = session;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    [<span class="meta">HttpGet</span>]</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ActionResult <span class="title">Create</span>()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> View();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    [<span class="meta">HttpPost</span>]</span><br><span class="line">    [<span class="meta">TransactionPerRequest</span>]</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ActionResult <span class="title">Create</span>(<span class="params">CreateViewModel viewModel</span>)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (!ModelState.IsValid) <span class="keyword">return</span> Error(<span class="string">&quot;Existem campos para preencher.&quot;</span>, View(viewModel));</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> account = <span class="keyword">new</span> Account(viewModel.Email, viewModel.Password);</span><br><span class="line">        _session.Save(account);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> Information(<span class="string">&quot;Sua conta foi criada com sucesso.&quot;</span>, RedirectToAction(<span class="string">&quot;Index&quot;</span>, <span class="string">&quot;Home&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Existem várias formas de buscar dados usando NHibernate segue alguns abaixo:</p><p><a href="http://nhforge.org/doc/nh/en/#querycriteria" target="_blank" rel="external noopener">Criteria Queries</a></p><figure class="highlight csharp"><figcaption><span>AccountGetByIdQuery.cs</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">AccountGetByIdQuery</span> : <span class="title">IQuery</span>&lt;<span class="title">Account</span>&gt; &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">readonly</span> ISession _session;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> Id &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">AccountGetByIdQuery</span>(<span class="params">ISession session</span>)</span> &#123;</span><br><span class="line">        _session = session;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Account <span class="title">GetResult</span>()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> _session.CreateCriteria&lt;Account&gt;()</span><br><span class="line">                        .Add(Restrictions.Eq(<span class="string">&quot;Id&quot;</span>, Id))</span><br><span class="line">                        .UniqueResult&lt;Account&gt;();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="http://nhforge.org/doc/nh/en/#queryqueryover" target="_blank" rel="external noopener">QueryOver Queries</a></p><figure class="highlight csharp"><figcaption><span>AccountGetByEmailQuery.cs</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">AccountGetByEmailQuery</span> : <span class="title">IQuery</span>&lt;<span class="title">Account</span>&gt; &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">readonly</span> ISession _session;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> Email &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">AccountGetByEmailQuery</span>(<span class="params">ISession session</span>)</span> &#123;</span><br><span class="line">        _session = session;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> Account <span class="title">GetResult</span>()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> _session.QueryOver&lt;Account&gt;()</span><br><span class="line">                        .Where(c =&gt; c.Email == Email)</span><br><span class="line">                        .SingleOrDefault&lt;Account&gt;();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="http://nhforge.org/doc/nh/en/#querysql" target="_blank" rel="external noopener">Native SQL</a></p><figure class="highlight csharp"><figcaption><span>ItemResultGetAllQuery.cs</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">ItemResultGetAllQuery</span> : <span class="title">IQuery</span>&lt;<span class="title">IEnumerable</span>&lt;<span class="title">ItemResult</span>&gt;&gt; &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">readonly</span> ISession _session;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ItemResultGetAllQuery</span>(<span class="params">ISession session</span>)</span> &#123;</span><br><span class="line">        _session = session;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">IEnumerable</span>&lt;<span class="title">ItemResult</span>&gt; <span class="title">GetResult</span>()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> _session.CreateSQLQuery(<span class="string">&quot;SELECT Id, Name, Type FROM Items&quot;</span>)</span><br><span class="line">                        .SetResultTransformer(Transformers.AliasToBean&lt;ItemResult&gt;())</span><br><span class="line">                        .List&lt;ItemResult&gt;();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Obrigado pela visita e espero que tenha gostado, até a próxima.</p></div></article><aside><div id="disqus_thread"></div><script type="text/javascript" async defer>var disqus_shortname="jroliveira";!function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="//"+disqus_shortname+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)}()</script><script id="dsq-count-scr" src="//jroliveira.disqus.com/count.js" async defer></script><noscript>Please enable JavaScript to view the <a target="_blank" href="https://disqus.com/?ref_noscript" rel="nofollow noopener">comments powered by Disqus.</a></noscript></aside></div></main><footer class="site-footer"><div class="page__container"><div class="row"><div class="six columns"><ul class="social-networks-list"><li class="social-network-item"><a href="//500px.com/jr_oliveira" target="_blank" rel="noopener"><img class="social-network-item__icon" src="/assets/images/social-networks/500px.svg" alt="Junior Oliveira's 500px"> <span class="social-network-item__name">500px.com/jr_oliveira</span></a></li><li class="social-network-item"><a href="//instagram.com/junr.oliveira" target="_blank" rel="noopener"><img class="social-network-item__icon" src="/assets/images/social-networks/instagram.svg" alt="Junior Oliveira's instagram"> <span class="social-network-item__name">instagram.com/junr.oliveira</span></a></li><li class="social-network-item"><a href="//twitter.com/junr_oliveira" target="_blank" rel="noopener"><img class="social-network-item__icon" src="/assets/images/social-networks/twitter.svg" alt="Junior Oliveira's twitter"> <span class="social-network-item__name">twitter.com/junr_oliveira</span></a></li><li class="social-network-item"><a href="//linkedin.com/in/junior-oliveira" target="_blank" rel="noopener"><img class="social-network-item__icon" src="/assets/images/social-networks/linkedin.svg" alt="Junior Oliveira's linkedin"> <span class="social-network-item__name">linkedin.com/in/junior-oliveira</span></a></li><li class="social-network-item"><a href="//github.com/jroliveira/" target="_blank" rel="noopener"><img class="social-network-item__icon" src="/assets/images/social-networks/github.svg" alt="Junior Oliveira's github"> <span class="social-network-item__name">github.com/jroliveira</span></a></li></ul></div><div class="six columns"><div class="tag-cloud"><a href="/tags/delphi/" title="8" style="font-size:112%">delphi</a> <a href="/tags/rtti/" title="2" style="font-size:88%">rtti</a> <a href="/tags/ux/" title="1" style="font-size:84%">ux</a> <a href="/tags/generics/" title="2" style="font-size:88%">generics</a> <a href="/tags/json/" title="3" style="font-size:92%">json</a> <a href="/tags/datasnap/" title="2" style="font-size:88%">datasnap</a> <a href="/tags/jquery/" title="1" style="font-size:84%">jquery</a> <a href="/tags/php/" title="1" style="font-size:84%">php</a> <a href="/tags/di/" title="2" style="font-size:88%">di</a> <a href="/tags/ioc/" title="2" style="font-size:88%">ioc</a> <a href="/tags/csharp/" title="10" style="font-size:120%">csharp</a> <a href="/tags/tdd/" title="2" style="font-size:88%">tdd</a> <a href="/tags/solid/" title="1" style="font-size:84%">solid</a> <a href="/tags/design-pattern/" title="1" style="font-size:84%">design-pattern</a> <a href="/tags/nhibernate/" title="1" style="font-size:84%">nhibernate</a> <a href="/tags/singleton/" title="1" style="font-size:84%">singleton</a> <a href="/tags/nancy/" title="1" style="font-size:84%">nancy</a> <a href="/tags/jekyll/" title="1" style="font-size:84%">jekyll</a> <a href="/tags/simpledata/" title="1" style="font-size:84%">simpledata</a></div></div></div></div></footer><noscript><p>Please enable JavaScript on your browser</p></noscript><script async defer type="text/javascript">"serviceWorker"in navigator&&navigator.serviceWorker.register("/service-worker.js").catch(console.warn)</script></body></html>